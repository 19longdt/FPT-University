In my Exercices Lab Java Web - Online Quiz:
 
 /* check Email 
            + " - Valid email prefixes: first and last character must be an ascii character (a-z) or number (0-9)"
            + "(.) Two or more than two consecutive periods"
            + " - Valid email domains: only @ and  numeric values (from 0 to 9), on condition that domains can’t be all numeric;"
            + "a hyphen (-), on condition that it is not placed at the beginning or end of the domain.";
*/
  Pattern pattern = Pattern.compile("^([\\w#!%$‘&+*/=?^_`{|}~-]+[\\w#!%$‘&+*/=?^_`.{|}~-]*[\\w#!%$‘&+*/=?^_`{|}~-]+){1,64}@[\\w]{2,63}[\\w-]*(\\.[\\w-]{2,63})*(\\.[a-zA-Z]{2,63})$");
  if (!pattern.matcher(email).find() || email.contains("..")) {}
  
  /*
   Ajax to Next Question, use JavaScript Jsp and Servlet
  */
  
  function Next() {
                var answer = document.getElementsByName("answer");
                var checkedValue = "";
                for (var i = 0; i < answer.length; ++i) {
                    if (answer[i].checked == true) {
                        checkedValue = answer[i].value;
                        break;
                    }
                }
                $.ajax({
                    url: "/OnlineQuiz/NextQuiz",
                    type: 'post',
                    data: {
                        ans: checkedValue
                    },
                    success: function (result) {
                        var content = document.getElementById("content");
                        content.innerHTML = result;
                    }
                });
            }
  // put html to TakeQuiz.jsp ( ajax )
            try (PrintWriter out = response.getWriter()) {
                out.println("<h4>" + question + "</h4>\n");
                for (int i = 0; i < listOption.size(); i++) {
                    out.println("<input type=\"checkbox\" id=\"ans\" name=\"answer\" value=\"" + listOption.get(i) + "\"/>" + listOption.get(i) + "\n"
                            + "    <br>\n");
                }
                out.println("<button onclick=\"Next()\" value=\"Next\" >Next</button>");
            }

/*
use Thread JavaScript: setInterval, when user take quiz, timer auto run
*/
 function startTimer(duration, display) {
                var timer = duration;
                var seconds;
                var minutes;
                var a = document.getElementById('timeout');
                var b = document.querySelector('#info #time');
                var content = document.getElementById("content");
                var info = document.getElementById('info');
                setInterval(function () {
                    minutes = parseInt(timer / 60, 10);
                    seconds = parseInt(timer % 60, 10);
                    minutes = minutes < 10 ? "0" + minutes : minutes;
                    seconds = seconds < 10 ? "0" + seconds : seconds;
                    display.textContent = minutes + ":" + seconds;
                    if (timer == 0) {
                        a.style.display = "block";
                        b.style.display = "none";
                        info.style.display = "none";
                        content.style.display = "none";
                    }
                    timer--;
                }, 1000);
            }
            onload = function () {

                var setTime = (${sessionScope.timeout}),
                        display = document.querySelector('#info #time');
                startTimer(setTime, display);
            }; 
            
            
/*
Fix: when user F5 or reload page Take Quiz, every Quuestion, Option, Answer and Timer still will CONTINUTE
Hint: Save real time when User Start take quiz and time when User reload Page!
*/

Happy Learning! <3




